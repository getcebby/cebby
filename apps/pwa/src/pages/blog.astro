---
import Layout from '../layouts/Layout.astro';
import SEO from '../components/SEO.astro';

// In a real application, these would be fetched from a database or CMS
const blogPosts = [
    {
        id: 'top-tech-events-2024',
        title: 'Top Tech Events to Attend in Cebu for 2024',
        excerpt: 'Discover the most anticipated tech conferences, workshops, and meetups happening in Cebu this year.',
        image: 'https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3',
        category: 'Tech',
        date: '2024-02-15',
        author: {
            name: 'Maria Santos',
            avatar: 'https://i.pravatar.cc/150?img=1',
            role: 'Tech Editor',
        },
        readTime: '5 min read',
    },
    {
        id: 'cebu-food-festival-guide',
        title: 'The Ultimate Guide to Cebu Food Festivals',
        excerpt: `From street food fairs to gourmet showcases, here's your complete guide to food festivals in Cebu.`,
        image: 'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?ixlib=rb-4.0.3',
        category: 'Food',
        date: '2024-02-10',
        author: {
            name: 'Carlos Reyes',
            avatar: 'https://i.pravatar.cc/150?img=2',
            role: 'Food Writer',
        },
        readTime: '7 min read',
    },
    {
        id: 'fitness-trends-cebu',
        title: 'Fitness Trends Taking Over Cebu in 2024',
        excerpt:
            'From high-intensity workouts to mindfulness practices, these are the fitness trends Cebuanos are embracing.',
        image: 'https://images.unsplash.com/photo-1518611012118-696072aa579a?ixlib=rb-4.0.3',
        category: 'Fitness',
        date: '2024-02-05',
        author: {
            name: 'Anna Lim',
            avatar: 'https://i.pravatar.cc/150?img=3',
            role: 'Fitness Columnist',
        },
        readTime: '6 min read',
    },
    {
        id: 'local-artists-spotlight',
        title: `Spotlight on Cebu's Rising Artists`,
        excerpt: `Meet the talented local artists who are making waves in Cebu's vibrant art scene.`,
        image: 'https://images.unsplash.com/photo-1460661419201-fd4cecdf8a8b?ixlib=rb-4.0.3',
        category: 'Arts',
        date: '2024-01-28',
        author: {
            name: 'Miguel Flores',
            avatar: 'https://i.pravatar.cc/150?img=4',
            role: 'Arts Correspondent',
        },
        readTime: '8 min read',
    },
    {
        id: 'music-venues-cebu',
        title: 'Best Live Music Venues in Cebu',
        excerpt: 'From intimate bars to large concert halls, here are the top spots to enjoy live music in Cebu.',
        image: 'https://images.unsplash.com/photo-1459749411175-04bf5292ceea?ixlib=rb-4.0.3',
        category: 'Music',
        date: '2024-01-20',
        author: {
            name: 'Sofia Garcia',
            avatar: 'https://i.pravatar.cc/150?img=5',
            role: 'Music Editor',
        },
        readTime: '5 min read',
    },
    {
        id: 'business-networking-events',
        title: 'Networking Events Every Cebu Entrepreneur Should Attend',
        excerpt: 'Build valuable connections and grow your business with these essential networking events in Cebu.',
        image: 'https://images.unsplash.com/photo-1515187029135-18ee286d815b?ixlib=rb-4.0.3',
        category: 'Business',
        date: '2024-01-15',
        author: {
            name: 'David Chen',
            avatar: 'https://i.pravatar.cc/150?img=6',
            role: 'Business Contributor',
        },
        readTime: '6 min read',
    },
];

// Format date function
function formatDate(dateString: string) {
    const options = { year: 'numeric', month: 'long', day: 'numeric' };
    return new Date(dateString).toLocaleDateString('en-US', options as any);
}
---

<Layout title="Blog - Cebby">
    <Fragment slot="head">
        <SEO
            title="Cebby Blog - Event Insights and Guides"
            description="Discover articles, guides, and insights about events in Cebu. Stay updated with the latest trends and happenings in the local event scene."
            image="/og.png"
            type="website"
        />
    </Fragment>

    <main class="min-h-screen">
        <!-- Hero Section -->
        <div class="bg-gradient-to-br from-cebby-primary-light/10 to-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
                <div class="text-center">
                    <h1 class="text-4xl font-bold text-gray-900 mb-4">Cebby Blog</h1>
                    <p class="text-xl text-gray-600 mb-8 max-w-3xl mx-auto">
                        Insights, guides, and stories about events and happenings in Cebu
                    </p>
                </div>
            </div>
        </div>

        <!-- Featured Post -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="relative rounded-xl overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-black/20 z-10"></div>
                <img src={blogPosts[0].image} alt={blogPosts[0].title} class="w-full h-[500px] object-cover" />
                <div class="absolute bottom-0 left-0 right-0 p-8 z-20">
                    <div class="flex items-center space-x-2 mb-4">
                        <span class="bg-cebby-primary text-white text-xs font-bold px-3 py-1 rounded-full">
                            FEATURED
                        </span>
                        <span class="text-white text-sm">{formatDate(blogPosts[0].date)}</span>
                        <span class="text-white text-sm">•</span>
                        <span class="text-white text-sm">{blogPosts[0].readTime}</span>
                    </div>
                    <h2 class="text-3xl font-bold text-white mb-4">
                        <a href={`/blog/${blogPosts[0].id}`} class="hover:underline">
                            {blogPosts[0].title}
                        </a>
                    </h2>
                    <p class="text-white/90 text-lg mb-6 max-w-3xl">
                        {blogPosts[0].excerpt}
                    </p>
                    <div class="flex items-center">
                        <img
                            src={blogPosts[0].author.avatar}
                            alt={blogPosts[0].author.name}
                            class="w-10 h-10 rounded-full mr-4 border-2 border-white"
                        />
                        <div>
                            <p class="text-white font-medium">{blogPosts[0].author.name}</p>
                            <p class="text-white/70 text-sm">{blogPosts[0].author.role}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Blog Posts Grid -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-2xl font-bold text-gray-900">Latest Articles</h2>
                <div class="flex items-center space-x-2">
                    <span class="text-sm text-gray-500">Filter by:</span>
                    <select
                        class="text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-cebby-primary focus:border-cebby-primary"
                    >
                        <option value="all">All Categories</option>
                        <option value="tech">Tech</option>
                        <option value="food">Food</option>
                        <option value="fitness">Fitness</option>
                        <option value="arts">Arts</option>
                        <option value="music">Music</option>
                        <option value="business">Business</option>
                    </select>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                {
                    blogPosts.slice(1).map((post) => (
                        <article class="bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all duration-200 border border-gray-100">
                            <a href={`/blog/${post.id}`} class="block">
                                <img src={post.image} alt={post.title} class="w-full h-48 object-cover" />
                            </a>
                            <div class="p-6">
                                <div class="flex items-center space-x-2 mb-3 text-sm text-gray-500">
                                    <span class={`text-${post.category.toLowerCase()}`}>{post.category}</span>
                                    <span>•</span>
                                    <span>{formatDate(post.date)}</span>
                                    <span>•</span>
                                    <span>{post.readTime}</span>
                                </div>
                                <h3 class="text-xl font-semibold text-gray-900 mb-2 line-clamp-2 hover:text-cebby-primary">
                                    <a href={`/blog/${post.id}`}>{post.title}</a>
                                </h3>
                                <p class="text-gray-600 mb-4 line-clamp-3">{post.excerpt}</p>
                                <div class="flex items-center">
                                    <img
                                        src={post.author.avatar}
                                        alt={post.author.name}
                                        class="w-8 h-8 rounded-full mr-3 border border-gray-200"
                                    />
                                    <div>
                                        <p class="text-sm font-medium text-gray-900">{post.author.name}</p>
                                        <p class="text-xs text-gray-500">{post.author.role}</p>
                                    </div>
                                </div>
                            </div>
                        </article>
                    ))
                }
            </div>

            <!-- Pagination -->
            <div class="mt-12 flex justify-center">
                <nav class="inline-flex rounded-md shadow">
                    <a
                        href="#"
                        class="inline-flex items-center px-4 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"
                    >
                        <i class="fas fa-chevron-left mr-2 text-xs"></i>
                        Previous
                    </a>
                    <a
                        href="#"
                        class="inline-flex items-center px-4 py-2 border-t border-b border-gray-300 bg-white text-sm font-medium text-cebby-primary"
                    >
                        1
                    </a>
                    <a
                        href="#"
                        class="inline-flex items-center px-4 py-2 border-t border-b border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"
                    >
                        2
                    </a>
                    <a
                        href="#"
                        class="inline-flex items-center px-4 py-2 border-t border-b border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"
                    >
                        3
                    </a>
                    <a
                        href="#"
                        class="inline-flex items-center px-4 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"
                    >
                        Next
                        <i class="fas fa-chevron-right ml-2 text-xs"></i>
                    </a>
                </nav>
            </div>
        </div>

        <!-- Newsletter Section -->
        <div class="bg-gray-50 py-16">
            <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-2xl font-bold text-gray-900 mb-4">Subscribe to Our Newsletter</h2>
                <p class="text-gray-600 mb-8">
                    Get the latest articles, event updates, and exclusive content delivered straight to your inbox.
                </p>
                <form class="flex flex-col sm:flex-row gap-3 max-w-md mx-auto">
                    <input
                        type="email"
                        placeholder="Enter your email"
                        class="flex-1 px-4 py-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-cebby-primary focus:border-cebby-primary"
                        required
                    />
                    <button
                        type="submit"
                        class="px-6 py-3 bg-cebby-primary text-white font-medium rounded-md hover:bg-cebby-primary-dark transition-colors"
                    >
                        Subscribe
                    </button>
                </form>
            </div>
        </div>
    </main>
</Layout>
