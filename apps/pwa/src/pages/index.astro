---
import Layout from '../layouts/Layout.astro';
import SEO from '../components/SEO.astro';
import { supabase } from '../lib/supabase';
import { Image } from 'astro:assets';
import ContentCard from '../components/ContentCard.astro';

const { data: partners, error } = await supabase
    .from('accounts')
    .select('*')
    .order('name', { ascending: true })
    .limit(20);

if (error) {
    console.error('Error fetching partners:', error);
}

const metaDescription =
    'Discover tech events happening in Cebu through Cebby - your automated event discovery platform. We aggregate and surface the most relevant tech events to help you stay connected with the community.';

const faqs = [
    {
        question: 'How does Cebby find events?',
        answer: "We use automated systems to aggregate events from various sources including community pages, tech groups, and event platforms. Our system checks if there are new events and add them to the platform. Our partners have their own dedicated pages where they'll be able to showcase their events.",
    },
    {
        question: 'Is Cebby free to use?',
        answer: 'Yes, Cebby is completely free! We believe in making tech event discovery accessible to everyone in the community.',
    },
    {
        question: 'What types of events are listed?',
        answer: 'We focus on tech-related events including workshops, conferences, meetups, hackathons, and networking events. All events are automatically collected and verified.',
    },
    {
        question: 'How do I get notified about new events?',
        answer: 'Enable notifications in your browser to get automatic alerts when new events are added. You can also sync events with your calendar for reminders.',
    },
    {
        question: 'I want to support the project, how can I get involved?',
        answer: 'The project is open source and we welcome any type of contributions - be it monetary, code, copy, marketing, etc. Your support can go a long way in helping everyone in Cebu find the events that matter to them. See our public roadmap anytime...',
    },
];

const categories = [
    { name: 'Food', href: '/category/food' },
    { name: 'Tech', href: '/category/tech' },
    { name: 'Events', href: '/category/events' },
    { name: 'Culture', href: '/category/culture' },
    { name: 'Lifestyle', href: '/category/lifestyle' },
    { name: 'Tourism', href: '/category/tourism' },
];

const trendingSearches = ['restaurants', 'IT Park', 'beaches', 'cafes', 'coworking', 'events'];

const sampleContent = [
    {
        title: '10 Must-Try Restaurants in Cebu IT Park',
        description:
            "Discover the best dining spots in Cebu's tech hub, from local cuisine to international favorites.",
        image: 'https://images.unsplash.com/photo-1552566626-52f8b828add9?ixlib=rb-4.0.3',
        category: 'Food',
        author: {
            name: 'Maria Santos',
            avatar: 'https://i.pravatar.cc/150?img=1',
        },
        likes: 245,
        views: 1200,
    },
    {
        title: "Ultimate Guide to Cebu's Beaches",
        description: 'Explore the most beautiful beaches in Cebu, from hidden gems to popular destinations.',
        image: 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixlib=rb-4.0.3',
        category: 'Tourism',
        author: {
            name: 'John Doe',
            avatar: 'https://i.pravatar.cc/150?img=2',
        },
        likes: 189,
        views: 890,
    },
    {
        title: 'Upcoming Tech Events in Cebu',
        description: 'Stay updated with the latest tech conferences, meetups, and workshops in Cebu.',
        image: 'https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3',
        category: 'Tech',
        author: {
            name: 'Alex Chen',
            avatar: 'https://i.pravatar.cc/150?img=3',
        },
        likes: 156,
        views: 750,
    },
    {
        title: 'Best Coworking Spaces in Cebu',
        description: "Find your perfect workspace in Cebu's growing coworking scene.",
        image: 'https://images.unsplash.com/photo-1497366216548-37526070297c?ixlib=rb-4.0.3',
        category: 'Lifestyle',
        author: {
            name: 'Sarah Miller',
            avatar: 'https://i.pravatar.cc/150?img=4',
        },
        likes: 134,
        views: 620,
    },
    {
        title: 'Cultural Festivals in Cebu',
        description: 'Experience the rich cultural heritage of Cebu through its vibrant festivals.',
        image: 'https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?ixlib=rb-4.0.3',
        category: 'Culture',
        author: {
            name: 'Mike Torres',
            avatar: 'https://i.pravatar.cc/150?img=5',
        },
        likes: 198,
        views: 945,
    },
    {
        title: 'Hidden Gems: Local Cafes in Cebu',
        description: 'Discover charming cafes serving the best local coffee and pastries.',
        image: 'https://images.unsplash.com/photo-1501339847302-ac426a4a7cbb?ixlib=rb-4.0.3',
        category: 'Food',
        author: {
            name: 'Lisa Wang',
            avatar: 'https://i.pravatar.cc/150?img=6',
        },
        likes: 167,
        views: 830,
    },
];
---

<Layout title="Cebby - Discover the Best of Cebu">
    <Fragment slot="head">
        <SEO
            title="Discover Tech Events in Cebu - your smart event discovery platform - cebby"
            description={metaDescription}
            image="/og.png"
            type="website"
        />
    </Fragment>

    <main class="min-h-screen bg-white">
        <!-- Hero Section -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
            <div class="text-center">
                <h1 class="text-4xl md:text-6xl font-bold text-gray-900 mb-4">Discover Cebu's finest</h1>
                <p class="text-xl text-gray-600 mb-8">
                    Explore the best places, experiences, and local treasures Cebu has to offer
                </p>

                <!-- Search Bar -->
                <div class="max-w-3xl mx-auto mb-8">
                    <div class="relative">
                        <input
                            type="text"
                            placeholder="What are you looking for in Cebu?"
                            class="w-full px-6 py-4 text-lg border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                        />
                        <button
                            class="absolute right-3 top-1/2 -translate-y-1/2 bg-blue-500 text-white px-6 py-2 rounded-full hover:bg-blue-600 transition-colors"
                        >
                            Search
                        </button>
                    </div>
                </div>

                <!-- Trending Searches -->
                <div class="flex flex-wrap justify-center gap-2 text-sm text-gray-600">
                    <span class="mr-2">Trending searches:</span>
                    {
                        trendingSearches.map((term) => (
                            <a href={`/search?q=${term}`} class="hover:text-blue-500 hover:underline">
                                {term}
                            </a>
                        ))
                    }
                </div>
            </div>
        </div>

        <!-- Categories Navigation -->
        <div class="border-t border-b border-gray-200">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <nav class="flex items-center justify-between py-4 overflow-x-auto">
                    <div class="flex space-x-8">
                        {
                            categories.map((category) => (
                                <a
                                    href={category.href}
                                    class="text-gray-700 hover:text-blue-500 px-3 py-2 text-sm font-medium"
                                >
                                    {category.name}
                                </a>
                            ))
                        }
                    </div>
                    <button
                        class="bg-gray-100 px-4 py-2 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-200"
                    >
                        Filters
                    </button>
                </nav>
            </div>
        </div>

        <!-- Content Grid -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                {sampleContent.map((content) => <ContentCard {...content} />)}
            </div>
        </div>
    </main>
</Layout>
